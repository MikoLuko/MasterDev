@model List<projekt5.Models.Klient>
@{
	ViewData["Title"] = "Index";
	string men = "Mężczyzna";
	string kobita = "Kobieta";

}
<script>
	var szer = window.matchMedia("(max-width: 520px)");
	window.onload= function(){
		if(szer.matches){
					document.getElementById('table').innerHTML=`
				@foreach (var klient in Model)
					{
								<tr><th>Id</th><td>@klient.id</td></tr>
								<tr><th>Name</th><td>@klient.name</td></tr>
								<tr><th>Surname</th><td>@klient.surname</td></tr>
								<tr><th>PESEL</th><td>@klient.pesel</td></tr>
								<tr><th>BirthYear</th><td>@klient.birthyear</td></tr>
								<tr><th>Płeć</th><td>@klient.płeć</td></tr>
								<tr style="border-bottom:solid 3px black"><th>Usuń/Edit</th>
									<td class="flex-row d-flex flex-wrap flex justify-content-center" >
									<form asp-action="Delete" method="post" asp-route-id="@klient.id" style=" width:50%;flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
										<button class="btn btn-danger" style="width:100%; margin-right:3px; margin-bottom:3px;">USUŃ</button>
									</form>
									<form asp-action="Edit" method="get" asp-route-id="@klient.id" style="flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
										<button class="btn" style="background-color:#00F; color:white; width:100%; margin-bottom:3px;">EDIT</button>
									</form>
									</td>
								</tr>

					}
	`
			}
			else{
				document.getElementById('table').innerHTML=`
				<tr><th>Id</th><th>Name</th><th>Surname</th><th>PESEL</th><th>BirthYear</th><th>Płeć</th><th>Usuń</th></tr>
					@foreach (var klient in Model)
						{

								<tr>
									<td>@klient.id</td>
								<td>@klient.name</td>
								<td>@klient.surname</td>
								<td>@klient.pesel</td>
								<td>@klient.birthyear</td>
								<td>
										@if (@klient.płeć == 1)
										{
													@men
												;
										}
										else
										{
													@kobita
													;
										}
									</td>
									<td class="flex-row d-flex flex-wrap flex justify-content-center" >
										<form asp-action="Delete" method="post" asp-route-id="@klient.id" style=" width:50%;flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
											<button class="btn btn-danger" style="width:100%; margin-right:3px; margin-bottom:3px;">USUŃ</button>
										</form>
										<form asp-action="Edit" method="get" asp-route-id="@klient.id" style="flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
											<button class="btn" style="background-color:#00F; color:white; width:100%; margin-bottom:3px;">EDIT</button>
										</form>
										</td>
							</tr>
				}
				`
	}
	}
		szer.addEventListener('change',(x)=>{
			if(x.matches){
					document.getElementById('table').innerHTML=`
				@foreach (var klient in Model)
					{
							<tr><th>Id</th><td>@klient.id</td></tr>
							<tr><th>Name</th><td>@klient.name</td></tr>
							<tr><th>Surname</th><td>@klient.surname</td></tr>
							<tr><th>PESEL</th><td>@klient.pesel</td></tr>
							<tr><th>BirthYear</th><td>@klient.birthyear</td></tr>
							<tr><th>Płeć</th><td>@klient.płeć</td></tr>
							<tr style="border-bottom:solid 3px black"><th>Usuń/Edit</th>
								<td class="flex-row d-flex flex-wrap flex justify-content-center" >
								<form asp-action="Delete" method="post" asp-route-id="@klient.id" style=" width:50%;flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
									<button class="btn btn-danger" style="width:100%; margin-right:3px; margin-bottom:3px;">USUŃ</button>
								</form>
								<form asp-action="Edit" method="get" asp-route-id="@klient.id" style="flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
									<button class="btn" style="background-color:#00F; color:white; width:100%; margin-bottom:3px;">EDIT</button>
								</form>
								</td>
							</tr>

					}
	`
			}
			else{
				document.getElementById('table').innerHTML=`
				<tr><th>Id</th><th>Name</th><th>Surname</th><th>PESEL</th><th>BirthYear</th><th>Płeć</th><th>Usuń</th></tr>
					@foreach (var klient in Model)
						{

							<tr>
								<td>@klient.id</td>
							<td>@klient.name</td>
							<td>@klient.surname</td>
							<td>@klient.pesel</td>
							<td>@klient.birthyear</td>
							<td>
									@if (@klient.płeć == 1)
									{
											@men
										;
									}
									else
									{
											@kobita
											;
									}
								</td>
								<td class="flex-row d-flex flex-wrap flex justify-content-center" >
									<form asp-action="Delete" method="post" asp-route-id="@klient.id" style=" width:50%;flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
										<button class="btn btn-danger" style="width:100%; margin-right:3px; margin-bottom:3px;">USUŃ</button>
									</form>
									<form asp-action="Edit" method="get" asp-route-id="@klient.id" style="flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
										<button class="btn" style="background-color:#00F; color:white; width:100%; margin-bottom:3px;">EDIT</button>
									</form>
									</td>
						</tr>
				}
				`
			}
		})
			

</script>

<form asp-action="Create" method="post" class="input-group" style="justify-content:center; margin-bottom:10px;">
	<button class=" btn btn-success " style="width:60%;font-size:130%; border-radius:5px; font-weight:bold;">DODAJ</button>
</form>
<table class="table table-hover  table-striped table-bordered text-center" style="vertical-align:middle;" id="table">
	<tr><th>Id</th><th>Name</th><th>Surname</th><th>PESEL</th><th>BirthYear</th><th>Płeć</th><th>Usuń</th></tr>
@foreach (var klient in Model)
{

		<tr>
			<td>@klient.id</td>
		<td>@klient.name</td>
		<td>@klient.surname</td>
		<td>@klient.pesel</td>
		<td>@klient.birthyear</td>
		<td>
				@if (@klient.płeć == 1)
				{
					@men;
				}
				else
				{
					@kobita;
				}
			</td>
			<td class="flex-row d-flex flex-wrap flex justify-content-center" >
				<form asp-action="Delete" method="post" asp-route-id="@klient.id" style=" width:50%;flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
					<button class="btn btn-danger" style="width:100%; margin-right:3px; margin-bottom:3px;">USUŃ</button>
				</form>
				<form asp-action="Edit" method="get" asp-route-id="@klient.id" style="flex-shrink:1;display:flex;flex-basis:70px; justify-content:center;">
					<button class="btn" style="background-color:#00F; color:white; width:100%; margin-bottom:3px;">EDIT</button>
				</form>
				</td>
	</tr>
}
</table>
<div style="width : 100%; text-align: center">
	<a class="btn btn-dark" asp-action="ImportCSV">Importuj</a>
	<a class="btn btn-warning" asp-action="EksportujKlientow">Eksportuj</a>
</div>


